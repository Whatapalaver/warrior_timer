<div class="min-h-screen bg-slate-900 text-white">
  <!-- Hero Section -->
  <div class="container mx-auto px-4 py-16">
    <div class="text-center mb-16">
      <h1 class="text-6xl md:text-8xl font-bold mb-6 bg-gradient-to-r from-amber-500 via-red-500 to-emerald-500 bg-clip-text text-transparent">
        Warrior Timer
      </h1>
      <p class="text-xl md:text-2xl text-slate-300 mb-8">
        A gym interval timer with URL-based interval definitions
      </p>
      <div class="flex flex-wrap justify-center gap-4">
        <%= link_to builder_path, class: "inline-block px-6 py-3 bg-emerald-500 hover:bg-emerald-600 text-slate-900 font-bold rounded-lg transition-colors" do %>
          üèóÔ∏è Build Workout
        <% end %>
        <%= link_to protocols_path, class: "inline-block px-6 py-3 bg-violet-500 hover:bg-violet-600 text-white font-bold rounded-lg transition-colors" do %>
          üìö Browse Training Protocols
        <% end %>
        <%= render BuyMeCoffee::BuyMeCoffeeComponent.new(style: :hero) %>
      </div>
    </div>

    <!-- Favorites and Recent Workouts -->
    <div class="max-w-4xl mx-auto mb-16">
      <%= render WorkoutLibrary::WorkoutLibraryComponent.new %>
    </div>

    <!-- Interval Builder -->
    <div class="max-w-4xl mx-auto mb-16" data-controller="interval-builder">
      <div class="bg-slate-800 rounded-lg p-6">
        <h2 class="text-2xl font-bold mb-4">Build Your Workout</h2>
        <p class="text-slate-400 mb-4 text-sm">Type your interval definition below and see a live preview</p>

        <!-- Segment Types Key -->
        <div class="mb-4 p-3 bg-slate-700/50 rounded-lg">
          <div class="grid grid-cols-2 md:grid-cols-5 gap-2 text-xs">
            <div class="flex items-center gap-1">
              <span class="inline-block w-3 h-3 bg-amber-500 rounded"></span>
              <code class="text-amber-400">p</code>
              <span class="text-slate-300">= Prepare</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="inline-block w-3 h-3 bg-orange-500 rounded"></span>
              <code class="text-orange-400">wu</code>
              <span class="text-slate-300">= Warmup</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="inline-block w-3 h-3 bg-red-600 rounded"></span>
              <code class="text-red-400">w</code>
              <span class="text-slate-300">= Work</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="inline-block w-3 h-3 bg-emerald-500 rounded"></span>
              <code class="text-emerald-400">r</code>
              <span class="text-slate-300">= Rest</span>
            </div>
            <div class="flex items-center gap-1">
              <span class="inline-block w-3 h-3 bg-sky-500 rounded"></span>
              <code class="text-sky-400">cd</code>
              <span class="text-slate-300">= Cooldown</span>
            </div>
          </div>
        </div>

        <div class="mb-4">
          <input
            type="text"
            data-interval-builder-target="input"
            data-action="input->interval-builder#parse"
            placeholder="Try: 10(30w30r) or 10p+5mwu+8(3mw1mr)+2mcd"
            class="w-full px-4 py-3 bg-slate-700 text-white rounded-lg border-2 border-slate-600 focus:border-amber-500 focus:outline-none text-lg font-mono"
          />
        </div>

        <div data-interval-builder-target="error" class="hidden mb-4 p-3 bg-red-900/20 border border-red-500 rounded text-red-300 text-sm"></div>

        <div data-interval-builder-target="preview" class="mb-4">
          <div class="text-center text-slate-400 py-8">
            <p class="text-lg">Start typing to see a preview...</p>
            <p class="text-sm mt-2">Try: <code class="text-amber-400">10(30w30r)</code></p>
          </div>
        </div>

        <a
          href="#"
          data-interval-builder-target="goButton"
          class="hidden inline-block w-full text-center bg-amber-500 hover:bg-amber-600 text-slate-900 font-bold py-3 px-6 rounded-lg transition-colors"
        >
          Go to Timer ‚Üí
        </a>
      </div>
    </div>

    <!-- Quick Start Examples -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Quick Start Examples</h2>
      <div class="grid md:grid-cols-2 gap-4">
        <%
          examples = [
            { intervals: '30p+(1mw10r)*[Lymph Hops,Body Waves,Arm Swing,Trunk Twists,F Arm Circles,Bent Over Back Shake,B Arm Circles,Dead Arms,Golf Swings,Marches,Tip Toe Swings,Twist the Waist,Ballet Squat,Wide Arm Step Back,Wave Lunges,PushUps,Jump Rope]', title: 'Wildcard Wellness', description: 'Tai chi and Qi Gong mobility - 30s prep, then 17 movements (1 min work, 10s rest)', color: 'sky' },
            { intervals: '20(20w10r)', title: 'Tabata', description: '20 rounds of 20s work, 10s rest', color: 'red' },
            { intervals: '10(30w30r)', title: '30/30 Intervals', description: '10 rounds of 30s work, 30s rest', color: 'amber' },
            { intervals: '4((30w30r)*[BS,SSS,DC,BSBL,2HP,FSC,FBP,IC])', title: 'Mark Wildman Split', description: '4 rounds through 8 exercises (30s work, 30s rest each)', color: 'violet' },
            { intervals: '15(1mw)', title: 'EMOM 15', description: 'Every Minute On the Minute for 15 minutes', color: 'emerald' },
            { intervals: '3(5mw2mr)', title: '3 x 5 Min Rounds', description: '3 rounds of 5 min work, 2 min rest', color: 'purple' }
          ]

          color_classes = {
            'red' => 'text-red-400',
            'amber' => 'text-amber-400',
            'violet' => 'text-violet-400',
            'emerald' => 'text-emerald-400',
            'sky' => 'text-sky-400',
            'purple' => 'text-purple-400'
          }
        %>

        <% examples.each do |example| %>
          <a href="/timer/<%= example[:intervals] %>" class="block p-6 bg-slate-800 hover:bg-slate-700 rounded-lg transition-colors">
            <h3 class="text-xl font-bold mb-2 <%= color_classes[example[:color]] %>"><%= example[:title] %></h3>
            <code class="text-sm text-slate-300"><%= example[:intervals] %></code>
            <p class="text-sm text-slate-400 mt-2"><%= example[:description] %></p>

            <!-- Visual Preview -->
            <div class="mt-4">
              <%= render(ProtocolPreview::ProtocolPreviewComponent.new(code: example[:intervals])) %>
            </div>
          </a>
        <% end %>
      </div>
    </div>

    <!-- Syntax Guide -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">Syntax Guide</h2>

      <div class="bg-slate-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 text-amber-400">Segment Types</h3>
        <div class="grid md:grid-cols-2 gap-3 text-sm">
          <div><code class="text-amber-500">p</code> <span class="text-slate-300">= Prepare</span></div>
          <div><code class="text-orange-500">wu</code> <span class="text-slate-300">= Warmup</span></div>
          <div><code class="text-red-500">w</code> <span class="text-slate-300">= Work</span></div>
          <div><code class="text-emerald-500">r</code> <span class="text-slate-300">= Rest</span></div>
          <div><code class="text-sky-500">cd</code> <span class="text-slate-300">= Cooldown</span></div>
        </div>
      </div>

      <div class="bg-slate-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 text-amber-400">Time Formats</h3>
        <div class="space-y-2 text-sm">
          <div><code class="text-slate-300">30w</code> <span class="text-slate-400">- 30 seconds work</span></div>
          <div><code class="text-slate-300">5mw</code> <span class="text-slate-400">- 5 minutes work</span></div>
          <div><code class="text-slate-300">1:30w</code> <span class="text-slate-400">- 1 minute 30 seconds work</span></div>
        </div>
      </div>

      <div class="bg-slate-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 text-amber-400">Sequencing</h3>
        <div class="space-y-2 text-sm">
          <div><code class="text-slate-300">30w+30r</code> <span class="text-slate-400">- Chain segments with + (optional)</span></div>
          <div><code class="text-slate-300">10(30w30r)</code> <span class="text-slate-400">- Repeat 10 times</span></div>
          <div><code class="text-slate-300">3(2(30w15r)60r)</code> <span class="text-slate-400">- Nested repetitions</span></div>
        </div>
      </div>

      <div class="bg-slate-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 text-amber-400">Named Segments</h3>
        <p class="text-slate-400 text-sm mb-3">Add exercise names to display during the timer instead of generic "WORK" or "REST"</p>
        <div class="space-y-3 text-sm">
          <div>
            <div class="mb-1"><strong class="text-slate-200">Inline naming:</strong></div>
            <div><code class="text-slate-300">30w[Squat]</code> <span class="text-slate-400">- 30s work named "Squat"</span></div>
            <div><code class="text-slate-300">8(20w[Burpees]10r)</code> <span class="text-slate-400">- 8 rounds, all work named "Burpees"</span></div>
          </div>
          <div>
            <div class="mb-1"><strong class="text-slate-200">Circuit shorthand:</strong></div>
            <div><code class="text-slate-300">(30w30r)*[Squat,Bench,Lunges]</code></div>
            <div class="text-slate-400 ml-4">‚Ü≥ Names applied to work segments in order</div>
          </div>
          <div>
            <div class="mb-1"><strong class="text-slate-200">Full workout example:</strong></div>
            <div><code class="text-slate-300">5mwu+3((30w30r)*[Squat,Bench,Press])+2mcd</code></div>
            <div class="text-slate-400 ml-4">‚Ü≥ Warmup, 3 sets of named circuit, cooldown</div>
          </div>
        </div>
      </div>

      <div class="bg-slate-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 text-amber-400">Metronome / Pacing</h3>
        <p class="text-slate-400 text-sm mb-3">Add metronome beeps to pace your intervals</p>
        <div class="space-y-3 text-sm">
          <div>
            <div class="mb-1"><strong class="text-slate-200">Global metronome:</strong></div>
            <div class="text-slate-400">On the timer page, enable the metronome toggle and set your desired BPM. It will play during all work segments.</div>
          </div>
          <div>
            <div class="mb-1"><strong class="text-slate-200">Per-interval BPM:</strong></div>
            <div><code class="text-slate-300">60w@30bpm</code> <span class="text-slate-400">- 60s work at 30 BPM</span></div>
            <div><code class="text-slate-300">1mw@10bpm+1mw@14bpm</code> <span class="text-slate-400">- Different BPM per interval</span></div>
            <div><code class="text-slate-300">60w@30bpm[Kettlebell]</code> <span class="text-slate-400">- Combine with names</span></div>
          </div>
          <div>
            <div class="mb-1"><strong class="text-slate-200">Use case:</strong></div>
            <div class="text-slate-400 ml-4">Perfect for kettlebell swings, rowing pace, or any exercise where you want consistent rep timing. When you use @bpm notation, the global metronome controls are hidden (per-interval BPM takes priority).</div>
          </div>
        </div>
      </div>
    </div>

    <!-- How It Works -->
    <div class="max-w-4xl mx-auto mb-16">
      <h2 class="text-3xl font-bold mb-6 text-center">How It Works</h2>
      <div class="bg-slate-800 rounded-lg p-6">
        <ol class="space-y-4 text-slate-300">
          <li class="flex gap-4">
            <span class="flex-shrink-0 w-8 h-8 bg-amber-500 text-slate-900 rounded-full flex items-center justify-center font-bold">1</span>
            <div>
              <strong class="text-white">Define your intervals</strong> using the syntax above
            </div>
          </li>
          <li class="flex gap-4">
            <span class="flex-shrink-0 w-8 h-8 bg-amber-500 text-slate-900 rounded-full flex items-center justify-center font-bold">2</span>
            <div>
              <strong class="text-white">Add to URL:</strong> <code class="text-sm bg-slate-700 px-2 py-1 rounded">/timer/YOUR_INTERVALS</code>
            </div>
          </li>
          <li class="flex gap-4">
            <span class="flex-shrink-0 w-8 h-8 bg-amber-500 text-slate-900 rounded-full flex items-center justify-center font-bold">3</span>
            <div>
              <strong class="text-white">Start training!</strong> The timer will guide you through each segment with visual and audio cues
            </div>
          </li>
        </ol>
      </div>
    </div>

    <!-- Features -->
    <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold mb-6 text-center">Features</h2>
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-slate-800 rounded-lg p-6 text-center">
          <div class="text-4xl mb-3">üé®</div>
          <h3 class="font-bold mb-2">Color-Coded</h3>
          <p class="text-sm text-slate-400">Different colors for each segment type</p>
        </div>
        <div class="bg-slate-800 rounded-lg p-6 text-center">
          <div class="text-4xl mb-3">üîä</div>
          <h3 class="font-bold mb-2">Audio Cues</h3>
          <p class="text-sm text-slate-400">Countdown beeps and transition sounds</p>
        </div>
        <div class="bg-slate-800 rounded-lg p-6 text-center">
          <div class="text-4xl mb-3">üì±</div>
          <h3 class="font-bold mb-2">Mobile-First</h3>
          <p class="text-sm text-slate-400">Optimized for viewing across the gym</p>
        </div>
        <div class="bg-slate-800 rounded-lg p-6 text-center">
          <div class="text-4xl mb-3">üéµ</div>
          <h3 class="font-bold mb-2">Metronome</h3>
          <p class="text-sm text-slate-400">Adjustable BPM during work segments</p>
        </div>
      </div>
    </div>
  </div>
</div>

